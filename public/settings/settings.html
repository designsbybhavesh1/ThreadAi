<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ThreadAi - Settings</title>
    <link rel="stylesheet" href="settings.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-content">
                <h1 class="title">‚öôÔ∏è Settings</h1>
                <p class="subtitle">Customize your ThreadAi experience</p>
            </div>
        </header>

        <main class="main-content">
            <!-- Subscription Status -->
            <section class="settings-section">
                <h2 class="section-title">üí≥ Subscription</h2>
                
                <div class="subscription-card" id="subscriptionCard">
                    <!-- Premium Subscription Info -->
                    <div class="subscription-premium" id="subscriptionPremium" style="display: none;">
                        <div class="subscription-header">
                            <span class="subscription-status active">Premium Active</span>
                            <span class="subscription-plan" id="subscriptionPlan">Pro Monthly</span>
                        </div>
                        <div class="subscription-details">
                            <p class="subscription-renewal">Renews on <span id="renewalDate">--</span></p>
                            <p class="subscription-features">Unlimited summaries ‚Ä¢ Priority support ‚Ä¢ All features</p>
                        </div>
                        <div class="subscription-actions">
                            <button class="btn btn-secondary" id="cancelBtn">Cancel Subscription</button>
                            <button class="btn btn-link" id="manageBtn">Manage Billing</button>
                        </div>
                    </div>

                    <!-- Trial Info -->
                    <div class="subscription-trial" id="subscriptionTrial" style="display: none;">
                        <div class="subscription-header">
                            <span class="subscription-status trial">Free Trial</span>
                            <span class="subscription-time" id="trialTime">3 days left</span>
                        </div>
                        <div class="subscription-details">
                            <p class="subscription-features">Limited summaries ‚Ä¢ All features available</p>
                        </div>
                        <div class="subscription-actions">
                            <button class="btn btn-primary" id="upgradeBtn">Upgrade Now</button>
                            <button class="btn btn-secondary" id="restoreBtn">Restore Purchase</button>
                        </div>
                    </div>

                    <!-- Expired/No Subscription -->
                    <div class="subscription-expired" id="subscriptionExpired" style="display: none;">
                        <div class="subscription-header">
                            <span class="subscription-status expired">Trial Expired</span>
                        </div>
                        <div class="subscription-details">
                            <p class="subscription-features">Upgrade to continue using ThreadAi</p>
                        </div>
                        <div class="subscription-actions">
                            <button class="btn btn-primary" id="upgradeBtn2">Upgrade Now</button>
                            <button class="btn btn-secondary" id="restoreBtn2">Restore Purchase</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Summary Settings -->
            <section class="settings-section">
                <h2 class="section-title">üìù Summary Settings</h2>
                
                <div class="setting-group">
                    <label class="setting-label">Key Points Style</label>
                    <select id="keyPointsStyle" class="setting-select">
                        <option value="default">Smart (2-6 points based on content)</option>
                        <option value="oneline">Concise (3-6 one-line points)</option>
                        <option value="brief">Brief (2-5 short summaries)</option>
                    </select>
                    <p class="setting-description">Choose how key points are presented. The number of points automatically adapts to content length for optimal readability.</p>
                </div>
            </section>

            <!-- Reply Settings -->
            <section class="settings-section">
                <h2 class="section-title">üí¨ Reply Generation Settings</h2>
                
                <div class="setting-group">
                    <label class="setting-label">Reply Mode</label>
                    <select id="replyMode" class="setting-select">
                        <option value="tone">Use Tone Settings</option>
                        <option value="custom">Custom Prompt</option>
                    </select>
                    <p class="setting-description">Choose between predefined tones or custom instructions</p>
                </div>

                <div class="setting-group" id="customPromptGroup" style="display: none;">
                    <label class="setting-label">Custom Reply Prompt</label>
                    <textarea id="customPrompt" class="setting-textarea" rows="4" placeholder="Example: Reply in a professional tone with enthusiasm. Keep it concise and add relevant insights. Always ask a thoughtful follow-up question."></textarea>
                    <p class="setting-description">Write custom instructions for how replies should be generated. You can specify tone, style, personality, and approach. Length limits will still apply based on your length setting below.</p>
                    <div class="setting-examples">
                        <strong>Examples:</strong>
                        <ul>
                            <li>"Reply with enthusiasm and add a relevant personal insight"</li>
                            <li>"Be professional but friendly, always end with a question"</li>
                            <li>"Use a witty tone and reference current trends when relevant"</li>
                        </ul>
                    </div>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label">Reply Length (Extension)</label>
                    <select id="replyLength" class="setting-select">
                        <option value="short">Short (1 line)</option>
                        <option value="medium">Medium (2-3 lines)</option>
                        <option value="default">Default (flexible)</option>
                    </select>
                    <p class="setting-description">Default reply length when using the extension</p>
                </div>

                <div class="setting-group">
                    <label class="setting-label">Inline Reply Length</label>
                    <select id="inlineReplyLength" class="setting-select">
                        <option value="short">Short (1 line)</option>
                        <option value="medium">Medium (2-3 lines)</option>
                        <option value="default">Default (1 line)</option>
                    </select>
                    <p class="setting-description">Reply length for inline reply buttons in text fields</p>
                </div>
            </section>

            <!-- Performance Settings -->
            <section class="settings-section">
                <h2 class="section-title">‚ö° Performance Settings</h2>
                
                <div class="setting-group">
                    <label class="setting-label">Processing Speed</label>
                    <select id="processingSpeed" class="setting-select">
                        <option value="fast">Fast (less detailed)</option>
                        <option value="balanced">Balanced (recommended)</option>
                        <option value="quality">Quality (more detailed)</option>
                    </select>
                    <p class="setting-description">Balance between speed and quality of AI processing</p>
                </div>
            </section>

            <!-- UI Settings -->
            <section class="settings-section">
                <h2 class="section-title">üé® Interface Settings</h2>
                
                <div class="setting-group">
                    <label class="setting-label">Show Inline Reply Buttons</label>
                    <div class="toggle-container">
                        <input type="checkbox" id="showInlineButtons" class="toggle-input">
                        <label for="showInlineButtons" class="toggle-label">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <p class="setting-description">Show AI reply buttons in text fields on social media</p>
                </div>

                <div class="setting-group">
                    <label class="setting-label">Auto-open Extension on Right-click</label>
                    <div class="toggle-container">
                        <input type="checkbox" id="autoOpenExtension" class="toggle-input">
                        <label for="autoOpenExtension" class="toggle-label">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <p class="setting-description">Automatically open extension popup when using right-click summarize</p>
                </div>
            </section>
        </main>

        <footer class="footer">
            <div class="footer-content">
                <button id="resetBtn" class="btn btn-secondary">Reset to Defaults</button>
                <div class="footer-actions">
                    <button id="saveBtn" class="btn btn-primary">Save Settings</button>
                </div>
            </div>
        </footer>
    </div>

    <div id="notification" class="notification hidden"></div>
    <script type="module" src="settings.js"></script>
</body>
</html>